-- СКГТ
-- Елена Карабетева, 6MI0700149

INSERT INTO IdentifierType (type, usability, price)
VALUES ('24-часова карта', 0, 6.00),
	('72-часова карта', 0, 15.00),
	('Годишна карта', 2, 370.00),
	('Младежка карта', 2, 250.00),
	('Дневна карта', 0, 4.00),
	('За родителите', 1, 10.00),
	('Карта учащи', 2, 180.00),
	('Банкова карта', 0, 1.60),
	('30 плюс', NULL, 1.60),
	('60 плюс', NULL, 2.20),
	('От водача', NULL, 2.00);

INSERT INTO Stops (stopName, latitude, longitude)
VALUES ('ГАРА ПОДУЯНЕ', 42.706029, 23.281197),
	('ДЪРЖАВНА ПЕЧАТНИЦА', 42.714354, 23.341278),
	('Ж.К. КРАСНО СЕЛО', 42.726713, 23.280510),
	('ЛЕТИЩЕ СОФИЯ ТЕРМИНАЛ 2', 42.696441, 23.321365),
	('МЕТРОСТАНЦИЯ К.ВЕЛИЧКОВ', 42.672970, 23.345398),
	('МЕТРОСТАНЦИЯ МЛАДОСТ 1', 42.728983, 23.349174),
	('МЕТРОСТАНЦИЯ СЛИВНИЦА', 42.687104, 23.285316),
	('МЕТРОСТАНЦИЯ ЦАРИГРАДСКО ШОСЕ', 42.693161, 23.352951),
	('НСБАЛ ПО ОНКОЛОГИЯ', 42.670295, 23.352539),
	('ПЛ. ЛЪВОВ МОСТ', 42.663478, 23.353226),
	('ПЛ. МАКЕДОНИЯ', 42.658681, 23.352539),
	('ПЛ. СТОЧНА ГАРА', 42.653379, 23.349449),
	('ПЛОЩАД ОРЛОВ МОСТ', 42.650097, 23.355629),
	('МЕТРОСТАНЦИЯ Г. М. ДИМИТРОВ', 42.646814, 23.349449),
	('СУ СВ.КЛИМЕНТ ОХРИДСКИ', 42.645299, 23.340866),
	('УЛ. ГЕН. ГУРКО', 42.642016, 23.346359),
	('УЛ. ЙЕРУСАЛИМ', 42.640753, 23.337433),
	('УМБАЛ СВ. АННА', 42.637217, 23.337776),
	('ХОТЕЛ ПЛИСКА', 42.660449, 23.377945),
	('ЦЕНТРАЛНА ГАРА', 42.705877, 23.328506),
	('ЦЕНТЪР ПО ХИГИЕНА', 42.700478, 23.318275),
	('СТУДЕНТСКИ ГРАД', 42.651006, 23.347801),
	('МЕТРОСТАНЦИЯ ВИТОША', 42.694927, 23.320335),
	('Ж.К. ЗАПАДЕН ПАРК', 42.688871, 23.336472),
	('НАДЛЕЗ НАДЕЖДА', 42.715666, 23.291840),
	('Ж.К. ГОЦЕ ДЕЛЧЕВ', 42.673614, 23.300285);

INSERT INTO Line (lineNumber, startStop, lastStop)
VALUES ('A94', 15, 22),
	('A280', 15, 22),
	('A294', 22, 14),
	('T10', 23, 24),
	('TB5', 18, 25),
	('TB8', 26, 12),
	('T88', 10, 5),
	('TB120', 7, 20),
	('A110', 7, 14),
	('TB111', 8, 9),
	('TB78', 8, 20),
	('T55', 9, 12);

INSERT INTO Vehicle (registrationNumber, line, stop)
VALUES ('CВ1459AM', 'A294', 5),
	('CВ7415НН', 'A94', 7),
	('CВ9215АМ', 'A280', 8),
	('CВ7896РР', 'TB8', 9),
	('CВ9584ВВ', 'T10', 6),
	('CВ8495РР', 'T88', 9),
	('CВ9845РР', 'TB120', 8),
	('CВ1111AM', 'A110', 4),
	('CВ9103AР', 'TB111', 4),
	('CВ2589KР', 'TB78', 3),
	('CВ1235KР', 'T55', 4);

INSERT INTO	Schedule (line, stop, inWeekday, arrivalTime)
VALUES ('A94', 22, 1, '15:36'),
	('A294', 15, 1, '12:10'),
	('A294', 4, 0, '16:48'),
	('A294', 3, 1, '10:38'),
	('A280', 21, 0, '08:50'),
	('A94', 2, 1, '18:28'),
	('T10', 20, 1, '13:40'),
	('TB5', 12, 1, '16:38'),
	('TB8', 11, 0, '11:04'),
	('TB5', 13, 1, '10:00'),
	('A280', 14, 1, '09:05');

INSERT INTO	Passenger (passengerName, password)
VALUES ('Ирена Стоянова', 'Is153'),
	('Георги Иванов','Gi7413'),
	('Ивайла Колева','Ik74159'),
	('Христо Караколев','Hk154'),
	('Николай Невенов','Nn200'),
	('Антоанета Кръстева','Ak156'),
	('Тодор Кабасанов','Tk157'),
	('Стоянка Петрова','Sp158'),
	('Николина Жекина','Nj159'),
	('Гергана Коева','Gk160');

INSERT INTO Identifier (validFrom, validTo, type, passenger)
VALUES ('2024-06-06 11:38:00', '2024-06-06 12:28:00', 4, 1),
       ('2024-02-10 12:20:00', '2024-02-10 13:10:00', 4, 1),
       ('2024-06-05 07:00:00', '2024-06-05 20:00:00', 6, 3),
       ('2024-05-15 10:24:00', '2024-05-15 10:54:00', 10, 2),
       ('2024-05-20 12:40:00', '2024-05-20 13:40:00', 7, 4),
       ('2024-01-12 10:30:00', '2025-01-12 10:30:00', 3, 7),
       ('2023-06-15 08:30:00', '2024-06-15 08:30:00', 5, 5),
       ('2024-06-08 09:20:00', '2024-06-09 09:20:00', 1, 8),
       ('2024-06-01 10:00:00', '2024-06-01 10:50:00', 11, 1),
       ('2024-06-17 10:00:00', '2024-06-18 10:00:00', 1, 9),
       ('2024-06-04 10:05:00', '2024-06-04 10:55:00', 11, 10),
       ('2023-05-17 15:00:00', '2024-05-17 15:00:00', 3, 5),
       ('2023-05-20 12:40:00', '2023-05-20 13:40:00', 7, 6);

INSERT INTO	Validate (vehicle, identifier, validation)
VALUES ('CВ9584ВВ', 7, '2024-06-08 13:30:00'),
	('CВ9584ВВ', 10, '2024-06-04 7:00:00'),
	('CВ9845РР', 4, '2024-06-04 10:00:00'),
	('CВ9103AР', 3, '2024-06-03 7:45:00'),
	('CВ1235KР', 5, '2024-06-01 7:35:00'),
	('CВ9584ВВ', 6, '2024-06-05 15:10:00'),
	('CВ9584ВВ', 2, '2024-05-04 16:20:00'),
	('CВ9584ВВ', 11, '2024-06-03 17:10:00'),
	('CВ1235KР', 8, '2024-06-05 18:10:00');


UPDATE Line
SET startStop = 5, lastStop = 26
WHERE lineNumber = 'A294';

--стари идентификатори 
DELETE FROM Identifier
WHERE YEAR(validTo) < YEAR(GETDATE());

UPDATE IdentifierType
SET price = price + 10
WHERE usability = 2;

DELETE FROM IdentifierType
WHERE price < 2.00;

DELETE FROM IdentifierType
WHERE usability = 0;